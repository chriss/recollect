#!/usr/bin/perl
use strict;
use warnings;
use FindBin;
use lib "$FindBin::Bin/../lib";
use Recollect::Model;
use DateTime;
use Getopt::Long;

my %args;
GetOptions( \%args,
    'debug',
    'base-path=s',
);
$args{debug} = 1 if $ENV{RECOLLECT_DEBUG};

my $base_path = $args{'base-path'} || "$FindBin::Bin/..";

my $now = DateTime->now(time_zone => 'America/Vancouver');
my $model = Recollect::Model->new( base_path => $base_path);

my $id = shift or usage();
my $r = $model->reminders->by_id($id);
die "Could not find reminder with that id" unless $r;

$model->notifier->notify($r);

exit;


sub usage {
    die <<EOT;
USAGE: $0 <id> [--debug] [--base-path=/dir]
EOT
}
