#!/usr/bin/perl
use strict;
use warnings;
use FindBin;
use lib "$FindBin::Bin/../lib";
use Recollect::Model;
use Recollect::Reminders;
use Time::HiRes qw/tv_interval gettimeofday/;

my $base_path = '/var/www/recollect';
$base_path = "$FindBin::Bin/..";
my $model = Recollect::Model->new(
    base_path => $base_path,
);

my $email = 'lukec@localhost';
my $zone = 'vancouver-north-blue';

for my $i (1 .. 10) {
    my $t0 = [gettimeofday];
    my $r = Recollect::Reminders->new(
        name => "test-$$-$i",
        email => $email,
        zone => $zone,
    );
    $model->add_reminder($r);
    my $elapsed = tv_interval($t0);
    print "Added reminder $i - " . $r->id . " ($elapsed)\n";
}
