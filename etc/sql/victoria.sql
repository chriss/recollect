BEGIN;

INSERT INTO areas (id, name, centre) 
    VALUES (nextval('area_seq'), 'Victoria', '48.424644,-123.344021');

INSERT INTO zones (id, area_id, name, title, colour_name, line_colour, poly_colour)
    VALUES (nextval('zone_seq'), (SELECT id FROM areas WHERE name = 'Victoria'),
                'victoria-blue', 'Victoria Blue', 'blue', 'ffff3333', '33ff6565');

-- COPY pickups (id, zone_id, day, flags) FROM stdin;
-- 1107	9	2011-01-07 07:00:00-08	Y
-- 1108	9	2011-01-14 07:00:00-08	
-- \.

UPDATE zones SET geom =
    ST_GeomFromText('MULTIPOLYGON(((
48.421982 -123.384361,
48.421719 -123.383820,
48.421326 -123.383011,
48.420937 -123.382202,
48.421173 -123.381851,
48.421597 -123.381439,
48.421825 -123.381195,
48.422009 -123.380981,
48.422024 -123.380844,
48.421711 -123.378609,
48.422112 -123.378166,
48.420685 -123.375153,
48.420223 -123.375671,
48.420055 -123.375328,
48.419899 -123.374802,
48.419697 -123.374008,
48.419239 -123.374313,
48.419102 -123.373840,
48.418900 -123.373970,
48.418636 -123.373978,
48.418053 -123.372421,
48.416969 -123.372993,
48.416634 -123.373413,
48.416286 -123.373833,
48.416790 -123.374840,
48.416142 -123.375534,
48.416821 -123.377014,
48.417522 -123.378532,
48.416359 -123.379723,
48.416019 -123.380127,
48.415985 -123.380066,
48.415802 -123.379669,
48.415611 -123.379250,
48.415409 -123.378807,
48.414188 -123.380188,
48.413586 -123.380836,
48.414185 -123.382057,
48.414448 -123.382523,
48.414711 -123.382973,
48.415298 -123.383835,
48.415909 -123.384720,
48.416939 -123.384987,
48.417995 -123.385262,
48.418633 -123.385239,
48.419464 -123.385544,
48.419930 -123.385712,
48.420433 -123.385895,
48.420589 -123.385895,
48.420750 -123.385826,
48.421368 -123.385094,
48.421982 -123.384361
),(
48.435440 -123.362358,
48.435291 -123.362579,
48.434860 -123.362602,
48.432480 -123.361710,
48.432278 -123.358383,
48.432354 -123.358368,
48.432362 -123.357887,
48.434391 -123.357582,
48.434292 -123.356087,
48.434551 -123.356056,
48.434460 -123.354797,
48.434219 -123.354797,
48.434109 -123.352859,
48.434551 -123.352814,
48.434521 -123.352303,
48.434212 -123.352341,
48.434212 -123.351921,
48.433990 -123.351929,
48.434021 -123.351730,
48.434212 -123.351730,
48.434021 -123.350487,
48.433968 -123.349426,
48.434811 -123.349281,
48.434471 -123.344139,
48.434391 -123.341850,
48.434052 -123.335083,
48.433979 -123.334351,
48.433990 -123.333679,
48.436111 -123.333504,
48.436089 -123.332741,
48.436531 -123.332642,
48.436489 -123.329659,
48.436230 -123.329651,
48.436272 -123.328659,
48.438789 -123.328133,
48.439011 -123.332520,
48.439110 -123.333542,
48.440029 -123.333519,
48.440041 -123.335411,
48.436169 -123.335564,
48.436211 -123.338051,
48.440239 -123.337936,
48.440262 -123.339058,
48.440472 -123.339149,
48.440540 -123.342056,
48.441002 -123.342072,
48.440609 -123.343369,
48.440971 -123.343971,
48.440880 -123.344368,
48.441280 -123.344276,
48.441132 -123.344810,
48.441078 -123.347862,
48.441021 -123.348251,
48.438679 -123.348419,
48.438560 -123.349892,
48.438309 -123.352150,
48.440418 -123.351822,
48.439289 -123.359909,
48.439049 -123.359833,
48.439091 -123.359337,
48.438850 -123.359138,
48.438850 -123.359787,
48.437450 -123.359421,
48.437229 -123.361099,
48.435661 -123.360687,
48.435440 -123.362358
),(
48.418240 -123.338333,
48.417992 -123.338287,
48.418049 -123.337769,
48.416901 -123.337646,
48.416840 -123.337730,
48.416370 -123.337959,
48.416359 -123.337349,
48.417728 -123.331581,
48.417500 -123.331352,
48.417606 -123.327484,
48.417900 -123.327324,
48.418156 -123.326622,
48.418419 -123.324974,
48.418831 -123.324471,
48.419231 -123.323975,
48.419632 -123.323532,
48.419693 -123.323502,
48.420322 -123.323418,
48.420830 -123.323402,
48.421124 -123.323296,
48.421238 -123.323174,
48.421673 -123.322502,
48.421753 -123.322456,
48.421825 -123.322418,
48.423023 -123.322220,
48.423416 -123.322037,
48.423744 -123.321869,
48.423862 -123.321831,
48.424244 -123.321831,
48.424259 -123.323090,
48.424236 -123.323769,
48.424213 -123.324226,
48.423340 -123.324188,
48.422493 -123.324158,
48.421661 -123.324142,
48.420811 -123.324158,
48.420815 -123.324776,
48.420815 -123.325409,
48.420830 -123.325813,
48.420853 -123.325943,
48.421001 -123.326363,
48.421227 -123.327026,
48.421455 -123.327599,
48.421833 -123.328659,
48.422447 -123.330353,
48.422203 -123.330597,
48.420792 -123.332901,
48.419689 -123.332863,
48.419609 -123.332848,
48.420170 -123.334702,
48.419689 -123.334396,
48.419510 -123.334877,
48.419983 -123.335213,
48.419827 -123.335655,
48.419361 -123.335373,
48.419231 -123.335762,
48.419685 -123.336060,
48.419235 -123.337425,
48.418495 -123.337059,
48.418354 -123.337776,
48.418301 -123.337791,
48.418240 -123.338333
)))')
WHERE name = 'victoria-blue';

-- ROLLBACK;
COMMIT;
